{"mappings":"MAEO,MAAMA,EAAY,KACvB,MAAMC,EAAKC,SAASC,cAAc,UAC9BF,GAAIA,EAAGG,cAAcC,YAAYJ,EAAG,EAI7BK,EAAY,CAACC,EAAMC,KAC9BR,IACA,MAAMS,EAAS,4BAA4BF,MAASC,UACpDN,SAASC,cAAc,QAAQO,mBAAmB,aAAcD,GAChEE,OAAOC,WAAWZ,EAAW,IAAK,ECsB9Ba,EAAYX,SAASC,cAAc,4BAqBzCU,GAAaA,EAAUC,iBAAiB,SAnBlBC,UAClB,IACA,MAAMC,QAAYC,MAAO,4CAA8C,CACrEC,OAAO,QAETC,QAAQC,IAAIJ,GACRA,EAAIK,SAASC,OAAS,UACxBhB,EAAU,OAAO,cACjBK,OAAOC,YAAW,KAChBW,SAASC,OAAO,IAAI,GACnB,K,CAEJ,MAAMC,GACTN,QAAQC,IAAIK,EAAIC,S,CAGhBP,QAAQC,IAAI,0BAA0B,G","sources":["public/js/alerts.js","public/js/login.js"],"sourcesContent":["/* eslint-disable */\n\nexport const hideAlert = () => {\n  const el = document.querySelector('.alert');\n  if (el) el.parentElement.removeChild(el);\n};\n\n// type is 'success' or 'error'\nexport const showAlert = (type, msg) => {\n  hideAlert();\n  const markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\n  document.querySelector('body').insertAdjacentHTML('afterbegin', markup);\n  window.setTimeout(hideAlert, 5000);\n};\n","/* eslint-disable */\n\n  import {showAlert}  from './alerts'\n export const login = async (email, password) => {\n  console.log(email, password);\n  try {\n    const res = await fetch('http://localhost:3000/api/v1/users/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ email, password }),\n    });\n\n    const json = await res.json();\n    if (json.status === 'success') {\n      showAlert('success','Parsant Garg');\n      window.setTimeout(() => {\n        location.assign('/');\n      }, 1500);\n    }\n  } catch (err) {\n    showAlert('error','Incorrect email or password');\n  }\n};\n\n// document.querySelector('.form').addEventListener('submit', (e) => {\n//   e.preventDefault();\n\n//   const email = document.getElementById('email').value;\n//   const password = document.getElementById('password').value;\n//   login(email, password);\n// });\n\nconst logOutBtn = document.querySelector('.nav__el.nav__el--logout');\n\nexport const logout = async () => {\n    try{\n    const res = await fetch( 'http://localhost:3000/api/v1/users/logout',  {\n      method:'GET'\n    })\n    console.log(res);\n    if (res.formData.status = 'success') {\n      showAlert('info','logged out');\n      window.setTimeout(() => {\n        location.assign('/');\n      }, 1500);\n    }\n   } catch(err){\n  console.log(err.response)\n  }\n\n  console.log('log out function called');\n};\n\nlogOutBtn && logOutBtn.addEventListener('click', logout);\n"],"names":["$e6adfa685459127e$export$516836c6a9dfc573","el","document","querySelector","parentElement","removeChild","$e6adfa685459127e$export$de026b00723010c1","type","msg","markup","insertAdjacentHTML","window","setTimeout","$94464591c703bfdb$var$logOutBtn","addEventListener","async","res","fetch","method","console","log","formData","status","location","assign","err","response"],"version":3,"file":"login.js.map"}